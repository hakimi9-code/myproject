{"ast":null,"code":"import React from'react';import{Link,useLocation}from'react-router-dom';import Toast,{useToast}from'./Toast';import'./Checkout.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Checkout=()=>{var _location$state;const location=useLocation();const order=(_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.order;const{toasts,showToast,removeToast}=useToast();// Show toast based on payment status\nReact.useEffect(()=>{if((order===null||order===void 0?void 0:order.payment_status)==='completed'){showToast('Payment successful!','success');}else if((order===null||order===void 0?void 0:order.payment_status)==='pending'){showToast('Order placed! You will pay on delivery.','info');}},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-container\",children:[toasts.map(toast=>/*#__PURE__*/_jsx(Toast,{message:toast.message,type:toast.type,duration:toast.duration,onClose:()=>removeToast(toast.id)},toast.id)),/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-success\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"success-icon\",children:\"\\u2713\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Order Placed Successfully!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Thank you for your purchase. Your order has been confirmed.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"order-details\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Order Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"order-info\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Order Number:\"}),\" #\",(order===null||order===void 0?void 0:order.id)||Math.floor(Math.random()*1000000)]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Status:\"}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"order-status\",children:(order===null||order===void 0?void 0:order.status)||'Pending'})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Payment Status:\"}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"payment-status \".concat((order===null||order===void 0?void 0:order.payment_status)||'completed'),children:(order===null||order===void 0?void 0:order.payment_status)||'completed'})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Total:\"}),\" $\",order!==null&&order!==void 0&&order.total?parseFloat(order.total).toFixed(2):'0.00']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Estimated Delivery:\"}),\" 3-5 business days\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Confirmation Email:\"}),\" Sent to your email address\"]})]}),(order===null||order===void 0?void 0:order.items)&&order.items.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"order-items-summary\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Items Ordered:\"}),/*#__PURE__*/_jsx(\"ul\",{children:order.items.map((item,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[item.product_name,\" x\",item.quantity,\" - $\",parseFloat(item.subtotal).toFixed(2)]},index))})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"checkout-actions\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"continue-shopping-btn\",children:\"Continue Shopping\"})})]})]});};export default Checkout;","map":{"version":3,"names":["React","Link","useLocation","Toast","useToast","jsx","_jsx","jsxs","_jsxs","Checkout","_location$state","location","order","state","toasts","showToast","removeToast","useEffect","payment_status","className","children","map","toast","message","type","duration","onClose","id","Math","floor","random","status","concat","total","parseFloat","toFixed","items","length","item","index","product_name","quantity","subtotal","to"],"sources":["/home/hakimi/Documents/portpolio/src/components/Checkout.js"],"sourcesContent":["import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport Toast, { useToast } from './Toast';\nimport './Checkout.css';\n\nconst Checkout = () => {\n  const location = useLocation();\n  const order = location.state?.order;\n  const { toasts, showToast, removeToast } = useToast();\n\n  // Show toast based on payment status\n  React.useEffect(() => {\n    if (order?.payment_status === 'completed') {\n      showToast('Payment successful!', 'success');\n    } else if (order?.payment_status === 'pending') {\n      showToast('Order placed! You will pay on delivery.', 'info');\n    }\n  }, []);\n\n  return (\n    <div className=\"checkout-container\">\n      {/* Toast Notifications */}\n      {toasts.map((toast) => (\n        <Toast\n          key={toast.id}\n          message={toast.message}\n          type={toast.type}\n          duration={toast.duration}\n          onClose={() => removeToast(toast.id)}\n        />\n      ))}\n\n      <div className=\"checkout-success\">\n        <div className=\"success-icon\">âœ“</div>\n        <h1>Order Placed Successfully!</h1>\n        <p>Thank you for your purchase. Your order has been confirmed.</p>\n        \n        <div className=\"order-details\">\n          <h3>Order Details</h3>\n          <div className=\"order-info\">\n            <p><strong>Order Number:</strong> #{order?.id || Math.floor(Math.random() * 1000000)}</p>\n            <p><strong>Status:</strong> <span className=\"order-status\">{order?.status || 'Pending'}</span></p>\n            <p><strong>Payment Status:</strong> <span className={`payment-status ${order?.payment_status || 'completed'}`}>{order?.payment_status || 'completed'}</span></p>\n            <p><strong>Total:</strong> ${order?.total ? parseFloat(order.total).toFixed(2) : '0.00'}</p>\n            <p><strong>Estimated Delivery:</strong> 3-5 business days</p>\n            <p><strong>Confirmation Email:</strong> Sent to your email address</p>\n          </div>\n          \n          {order?.items && order.items.length > 0 && (\n            <div className=\"order-items-summary\">\n              <h4>Items Ordered:</h4>\n              <ul>\n                {order.items.map((item, index) => (\n                  <li key={index}>\n                    {item.product_name} x{item.quantity} - ${parseFloat(item.subtotal).toFixed(2)}\n                  </li>\n                ))}\n              </ul>\n            </div>\n          )}\n        </div>\n        \n        <div className=\"checkout-actions\">\n          <Link to=\"/\" className=\"continue-shopping-btn\">\n            Continue Shopping\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Checkout;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}